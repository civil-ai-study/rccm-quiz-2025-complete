{% extends 'base.html' %}
{% block title %}ヘルプ・使い方ガイド | RCCM試験問題集{% endblock %}

{% block content %}
<div class="container mt-4">
    <!-- ヘッダー -->
    <div class="text-center mb-5">
        <h1 class="display-4">📖 RCCM試験問題集 2025 <span class="badge bg-success">Enterprise Edition</span></h1>
        <p class="lead text-primary">🎯 <strong>RCCM試験合格への最短ルート</strong></p>
        <p class="text-muted">🚀 AI学習エンジン・ソーシャル機能・企業対応完備</p>
        <div class="row mt-4">
            <div class="col-md-3">
                <div class="feature-badge">
                    <i class="fas fa-robot text-primary"></i>
                    <small>AI学習分析</small>
                </div>
            </div>
            <div class="col-md-3">
                <div class="feature-badge">
                    <i class="fas fa-users text-success"></i>
                    <small>ソーシャル学習</small>
                </div>
            </div>
            <div class="col-md-3">
                <div class="feature-badge">
                    <i class="fas fa-building text-info"></i>
                    <small>企業環境対応</small>
                </div>
            </div>
            <div class="col-md-3">
                <div class="feature-badge">
                    <i class="fas fa-mobile-alt text-warning"></i>
                    <small>PWA対応</small>
                </div>
            </div>
        </div>
    </div>

    <!-- 緊急時・困った時のQ&A -->
    <div class="alert alert-warning mb-4">
        <h5 class="alert-heading"><i class="fas fa-exclamation-triangle me-2"></i>困った時は？</h5>
        <p class="mb-2"><strong>よくある問題と解決方法：</strong></p>
        <div class="row">
            <div class="col-md-6">
                <ul class="mb-2">
                    <li><strong>復習開始ボタンでエラー</strong> → ページを再読み込み後、再度お試しください</li>
                    <li><strong>選択肢がクリックできない</strong> → ブラウザの更新（F5キー）</li>
                    <li><strong>復習リストが空の場合</strong> → まず問題を解いて間違えることで復習対象が生成されます</li>
                    <li><strong>セッション情報の混在</strong> → ホームボタンで一度戻ると自動的にクリアされます</li>
                </ul>
            </div>
            <div class="col-md-6">
                <ul class="mb-0">
                    <li><strong>問題の途中で部門変更したい</strong> → ホームに戻ってから新しい部門を選択</li>
                    <li><strong>問題カウンターがおかしい</strong> → セッション自動修正機能で解決されます</li>
                    <li><strong>スマホで操作しにくい</strong> → 画面拡大（ピンチアウト）または横向きで操作</li>
                    <li><strong>学習データが消えた</strong> → セッション有効期限（1時間）を確認してください</li>
                </ul>
            </div>
        </div>
    </div>

    <!-- 初心者向けクイックスタート -->
    <div class="card border-primary mb-5">
        <div class="card-header bg-primary text-white">
            <h2 class="mb-0"><i class="fas fa-rocket me-2"></i>⚡ 3ステップで開始！</h2>
        </div>
        <div class="card-body">
            <div class="row">
                <div class="col-md-4 text-center mb-3">
                    <div class="step-circle bg-success text-white">1</div>
                    <h5 class="mt-2">📚 基礎科目</h5>
                    <p class="small">まず4-1基礎科目で土台作り<br>
                    <span class="badge bg-success">全部門共通・202問</span></p>
                    <a href="/exam?type=basic" class="btn btn-outline-success btn-sm">基礎科目開始</a>
                </div>
                <div class="col-md-4 text-center mb-3">
                    <div class="step-circle bg-primary text-white">2</div>
                    <h5 class="mt-2">🎯 専門科目</h5>
                    <p class="small">あなたの受験部門で専門学習<br>
                    <span class="badge bg-info">道路・河川砂防・建設環境など</span></p>
                    <a href="/categories" class="btn btn-outline-primary btn-sm">専門科目選択</a>
                </div>
                <div class="col-md-4 text-center mb-3">
                    <div class="step-circle bg-warning text-dark">3</div>
                    <h5 class="mt-2">🔄 復習で定着</h5>
                    <p class="small">間違えた問題を科学的復習システムで攻略<br>
                    <span class="badge bg-warning text-dark">弱点を完全克服</span></p>
                    <a href="/review" class="btn btn-outline-warning btn-sm">復習リスト</a>
                </div>
            </div>
            <div class="text-center mt-4">
                <a href="/" class="btn btn-primary btn-lg px-5">
                    <i class="fas fa-play me-2"></i>今すぐ始める！
                </a>
            </div>
        </div>
    </div>

    <!-- RCCM試験について -->
    <div class="card border-info mb-4">
        <div class="card-header bg-info text-white">
            <h3 class="mb-0"><i class="fas fa-graduation-cap me-2"></i>RCCM試験とは？</h3>
        </div>
        <div class="card-body">
            <div class="row">
                <div class="col-md-8">
                    <p><strong>RCCM（登録建設機械施工技術者）</strong>は建設機械の施工技術に関する国家資格です。</p>
                    <h5>📋 試験構成</h5>
                    <ul>
                        <li><strong>4-1 基礎科目（共通）</strong> - 全部門共通の基礎知識</li>
                        <li><strong>4-2 専門科目</strong> - 部門別の専門知識</li>
                    </ul>
                    <h5>🎯 合格基準</h5>
                    <ul>
                        <li>各科目とも<strong>60%以上</strong>の正答率</li>
                        <li>このアプリで80%以上取れれば合格圏内！</li>
                    </ul>
                </div>
                <div class="col-md-4 text-center">
                    <div class="stats-box bg-light p-3 rounded">
                        <h4 class="text-primary">📊 2025年版収録数</h4>
                        <div class="stat-item">
                            <span class="badge bg-primary fs-6">202問</span>
                            <div>4-1基礎科目</div>
                        </div>
                        <div class="stat-item mt-2">
                            <span class="badge bg-success fs-6">4,239問</span>
                            <div>4-2専門科目</div>
                        </div>
                        <div class="stat-item mt-2">
                            <span class="badge bg-warning fs-6">12年分</span>
                            <div>2008-2019年度</div>
                        </div>
                        <div class="stat-item mt-2">
                            <span class="badge bg-info fs-6">12部門</span>
                            <div>全専門分野対応</div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 効果的な学習方法 -->
    <div class="card border-success mb-4">
        <div class="card-header bg-success text-white">
            <h3 class="mb-0"><i class="fas fa-trophy me-2"></i>🚀 合格への学習戦略</h3>
        </div>
        <div class="card-body">
            <div class="row">
                <div class="col-md-6">
                    <h5>📅 学習スケジュール（推奨）</h5>
                    <div class="timeline">
                        <div class="timeline-item">
                            <span class="badge bg-primary">Week 1-2</span>
                            <strong>基礎固め期</strong><br>
                            4-1基礎科目を繰り返し（80%正答率目標）
                        </div>
                        <div class="timeline-item">
                            <span class="badge bg-success">Week 3-6</span>
                            <strong>専門強化期</strong><br>
                            4-2専門科目を部門別に学習
                        </div>
                        <div class="timeline-item">
                            <span class="badge bg-warning">Week 7-8</span>
                            <strong>復習完成期</strong><br>
                            復習リストで弱点を完全克服
                        </div>
                    </div>
                </div>
                <div class="col-md-6">
                    <h5>🎯 効果的な進め方</h5>
                    <ol>
                        <li><strong>毎日継続</strong> - 1日30分でも効果大</li>
                        <li><strong>間違いを恐れない</strong> - 復習リストが自動作成される</li>
                        <li><strong>解説をよく読む</strong> - 理解が定着の鍵</li>
                        <li><strong>同じ問題を3回正解</strong> - 完全マスターの目安</li>
                        <li><strong>統計を確認</strong> - 学習進捗で弱点把握</li>
                    </ol>
                    <div class="alert alert-success">
                        <strong>💡 合格者の声</strong><br>
                        「復習リスト機能で苦手問題が一目瞭然！効率的に学習できました」
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 機能詳細ガイド -->
    <div class="card border-dark mb-4">
        <div class="card-header bg-dark text-white">
            <h3 class="mb-0"><i class="fas fa-cogs me-2"></i>📱 全機能ガイド</h3>
        </div>
        <div class="card-body">
            <!-- 新機能紹介バナー -->
            <div class="alert alert-info mb-4">
                <h5 class="alert-heading"><i class="fas fa-sparkles me-2"></i>2025年版新機能</h5>
                <div class="row">
                    <div class="col-md-3">
                        <strong>🤖 Python AI学習エンジン</strong><br>
                        <small><span class="badge bg-danger">業界初</span> 弱点検出・学習推奨</small>
                    </div>
                    <div class="col-md-3">
                        <strong>👥 ソーシャル学習</strong><br>
                        <small>グループ学習・ランキング</small>
                    </div>
                    <div class="col-md-3">
                        <strong>🏢 企業対応</strong><br>
                        <small>API連携・マルチユーザー</small>
                    </div>
                    <div class="col-md-3">
                        <strong>📱 PWA完全対応</strong><br>
                        <small>オフライン・プッシュ通知</small>
                    </div>
                </div>
            </div>
            
            <div class="accordion" id="functionsAccordion">
                <!-- 問題練習機能 -->
                <div class="accordion-item">
                    <h2 class="accordion-header">
                        <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#practice">
                            <i class="fas fa-pen me-2"></i>問題練習機能
                        </button>
                    </h2>
                    <div id="practice" class="accordion-collapse collapse show" data-bs-parent="#functionsAccordion">
                        <div class="accordion-body">
                            <div class="row">
                                <div class="col-md-6">
                                    <h6><strong>基本的な使い方</strong></h6>
                                    <ul>
                                        <li>A、B、C、Dの選択肢をクリック</li>
                                        <li>「解答する」ボタンで回答送信</li>
                                        <li>間違えた問題は自動で復習リストに追加</li>
                                        <li>正解すると復習リストから除外</li>
                                    </ul>
                                </div>
                                <div class="col-md-6">
                                    <h6><strong>便利な機能</strong></h6>
                                    <ul>
                                        <li>🕒 解答時間の自動測定</li>
                                        <li>📊 即座にフィードバック表示</li>
                                        <li>📱 スマホ・タブレット対応</li>
                                        <li>🔄 スクロールなしで快適操作</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- 復習機能 -->
                <div class="accordion-item">
                    <h2 class="accordion-header">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#review">
                            <i class="fas fa-bookmark me-2"></i>復習機能
                        </button>
                    </h2>
                    <div id="review" class="accordion-collapse collapse" data-bs-parent="#functionsAccordion">
                        <div class="accordion-body">
                            <div class="alert alert-warning">
                                <h6><i class="fas fa-star me-2"></i><strong>最重要機能：科学的復習システム</strong></h6>
                                <p class="mb-0">間違えた問題を効率的に復習して完全マスターまでサポートします</p>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <h6><strong>🔧 復習システムの仕組み</strong></h6>
                                    <ul>
                                        <li><strong>自動リスト作成</strong> - 間違えた問題を自動で復習対象に</li>
                                        <li><strong>弱点スコア計算</strong> - 間違い回数×難易度で優先順位決定</li>
                                        <li><strong>最適タイミング</strong> - 忘却曲線に基づく復習間隔</li>
                                        <li><strong>完全マスター</strong> - 連続正解で復習リストから除外</li>
                                    </ul>
                                    
                                    <h6><strong>📋 使い方</strong></h6>
                                    <ol>
                                        <li>まず通常の問題を解いて間違える</li>
                                        <li>復習リストに自動登録される</li>
                                        <li>「復習開始」ボタンをクリック</li>
                                        <li>弱点問題から優先的に出題</li>
                                        <li>正解すると復習頻度が下がる</li>
                                    </ol>
                                </div>
                                <div class="col-md-6">
                                    <h6><strong>⚠️ 重要なポイント</strong></h6>
                                    <div class="alert alert-success">
                                        <small><strong>✅ セッション管理について</strong><br>
                                        • 問題の途中でホームに戻ると古いセッション情報が自動クリア<br>
                                        • 部門切り替え時も適切にリセット<br>
                                        • 混在問題を防ぐ強力なキャッシュクリア機能</small>
                                    </div>
                                    
                                    <h6><strong>🎯 効果的な活用法</strong></h6>
                                    <ul>
                                        <li><strong>週1回は復習日</strong> - 定期的に復習リストを確認</li>
                                        <li><strong>正解3回で卒業</strong> - 完全理解の目安</li>
                                        <li><strong>統計で弱点把握</strong> - 学習進捗ページで確認</li>
                                        <li><strong>エラー時はページ更新</strong> - F5キーで解決</li>
                                    </ul>
                                    
                                    <div class="alert alert-info">
                                        <small><strong>💡 よくある質問</strong><br>
                                        <strong>Q: 復習リストが空の場合？</strong><br>
                                        A: まず問題を解いて間違えることで復習対象が生成されます</small>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- AI学習アナリティクス -->
                <div class="accordion-item">
                    <h2 class="accordion-header">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#ai_analytics">
                            <i class="fas fa-robot me-2"></i>AI学習アナリティクス
                        </button>
                    </h2>
                    <div id="ai_analytics" class="accordion-collapse collapse" data-bs-parent="#functionsAccordion">
                        <div class="accordion-body">
                            <div class="alert alert-success">
                                <h6><i class="fas fa-magic me-2"></i><strong>🚀 業界初！Python AI完全搭載で学習効率を最大化</strong></h6>
                                <small class="text-success">
                                    <i class="fas fa-check-circle me-1"></i>従来の資格試験アプリにはない先進的AI技術
                                    <i class="fas fa-check-circle me-1 ms-2"></i>機械学習による個人最適化学習
                                </small>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <h6><strong>🔍 Python AI分析機能（業界唯一）</strong></h6>
                                    <ul>
                                        <li><strong>🧠 弱点パターン検出</strong> - 間違いの傾向をPython機械学習で分析</li>
                                        <li><strong>🎯 学習スタイル判定</strong> - 個人に最適な学習アプローチをAIが提案</li>
                                        <li><strong>⚡ 難易度適応システム</strong> - 理解度に合わせた動的問題推奨</li>
                                        <li><strong>🔮 記憶定着AI予測</strong> - どの問題をいつ忘れるかをAIが予測</li>
                                        <li><strong>📈 学習効率最適化</strong> - Python統計解析による時間配分提案</li>
                                    </ul>
                                </div>
                                <div class="col-md-6">
                                    <h6><strong>📊 高度な統計情報</strong></h6>
                                    <ul>
                                        <li><strong>リアルタイム正答率</strong> - 時間帯・日付別の詳細分析</li>
                                        <li><strong>学習効率スコア</strong> - 最適な学習ペースを自動計算</li>
                                        <li><strong>合格予測モデル</strong> - 現在の進捗から合格確率を算出</li>
                                        <li><strong>パフォーマンストレンド</strong> - 学習曲線の周期性分析</li>
                                    </ul>
                                </div>
                            </div>
                            <div class="text-center mt-3">
                                <div class="alert alert-success">
                                    <i class="fas fa-check-circle me-2"></i>
                                    <strong>AI学習分析機能搭載済み</strong><br>
                                    <small>弱点分析・学習推奨・パフォーマンス予測が利用可能です</small>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- ソーシャル学習機能 -->
                <div class="accordion-item">
                    <h2 class="accordion-header">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#social">
                            <i class="fas fa-users me-2"></i>ソーシャル学習機能
                        </button>
                    </h2>
                    <div id="social" class="accordion-collapse collapse" data-bs-parent="#functionsAccordion">
                        <div class="accordion-body">
                            <div class="alert alert-success">
                                <h6><i class="fas fa-heart me-2"></i><strong>仒間と一緒に学べば、モチベーションアップ！</strong></h6>
                            </div>
                            <div class="row">
                                <div class="col-md-6">
                                    <h6><strong>👥 グループ学習</strong></h6>
                                    <ul>
                                        <li><strong>勉強グループ作成</strong> - 同じ部門の仕間と連携</li>
                                        <li><strong>共同学習セッション</strong> - リアルタイムで一緒に問題演習</li>
                                        <li><strong>ディスカッション機能</strong> - 問題ごとに質問・意見交換</li>
                                        <li><strong>相互教学システム</strong> - お互いの強みで弱点を補完</li>
                                    </ul>
                                </div>
                                <div class="col-md-6">
                                    <h6><strong>🏆 競争システム</strong></h6>
                                    <ul>
                                        <li><strong>リアルタイムランキング</strong> - 部門別・全体ランキング</li>
                                        <li><strong>ピアコンペティション</strong> - 同レベルのライバルと切磋琢磨</li>
                                        <li><strong>チームチャレンジ</strong> - グループ対抗イベント</li>
                                        <li><strong>継続ストリーク</strong> - 毎日の学習習慣をゲーム化</li>
                                    </ul>
                                </div>
                            </div>
                            <div class="text-center mt-3">
                                <a href="/social_learning" class="btn btn-success btn-lg me-2">
                                    <i class="fas fa-users me-2"></i>グループ参加
                                </a>
                                <a href="/leaderboard" class="btn btn-outline-success btn-lg">
                                    <i class="fas fa-trophy me-2"></i>ランキング
                                </a>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- 学習統計機能 -->
                <div class="accordion-item">
                    <h2 class="accordion-header">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#stats">
                            <i class="fas fa-chart-line me-2"></i>学習統計機能
                        </button>
                    </h2>
                    <div id="stats" class="accordion-collapse collapse" data-bs-parent="#functionsAccordion">
                        <div class="accordion-body">
                            <div class="row">
                                <div class="col-md-6">
                                    <h6><strong>確認できる情報</strong></h6>
                                    <ul>
                                        <li>📊 部門別正答率</li>
                                        <li>🎯 全体の進捗状況</li>
                                        <li>📈 学習効果の分析</li>
                                        <li>⭐ マスター済み問題数</li>
                                    </ul>
                                </div>
                                <div class="col-md-6">
                                    <h6><strong>活用方法</strong></h6>
                                    <ul>
                                        <li>弱点部門の特定</li>
                                        <li>学習時間の最適化</li>
                                        <li>試験までの計画立案</li>
                                        <li>モチベーション維持</li>
                                    </ul>
                                </div>
                            </div>
                            <div class="text-center mt-3">
                                <a href="/statistics" class="btn btn-info btn-lg me-2">
                                    <i class="fas fa-chart-bar me-2"></i>統計を見る
                                </a>
                                <a href="/srs_stats" class="btn btn-outline-info btn-lg">
                                    <i class="fas fa-brain me-2"></i>学習進捗
                                </a>
                            </div>
                        </div>
                    </div>
                </div>

                <!-- スマホ・タブレット対応 -->
                <div class="accordion-item">
                    <h2 class="accordion-header">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#mobile">
                            <i class="fas fa-mobile-alt me-2"></i>スマホ・タブレット対応
                        </button>
                    </h2>
                    <div id="mobile" class="accordion-collapse collapse" data-bs-parent="#functionsAccordion">
                        <div class="accordion-body">
                            <div class="row">
                                <div class="col-md-6">
                                    <h6><strong>モバイル最適化機能</strong></h6>
                                    <ul>
                                        <li>🔲 タッチ操作対応</li>
                                        <li>📐 レスポンシブデザイン</li>
                                        <li>⚡ 高速表示</li>
                                        <li>🖼️ スクロール不要の快適操作</li>
                                    </ul>
                                </div>
                                <div class="col-md-6">
                                    <h6><strong>推奨環境</strong></h6>
                                    <ul>
                                        <li>📱 iPhone (Safari)</li>
                                        <li>🤖 Android (Chrome)</li>
                                        <li>📱 iPad (Safari)</li>
                                        <li>💻 PC (Chrome, Edge, Firefox)</li>
                                    </ul>
                                </div>
                            </div>
                            <div class="alert alert-success">
                                <strong>💡 外出先でも学習</strong><br>
                                電車内や休憩時間にスマホで手軽に問題演習が可能です。
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 大幅拡充されたFAQ -->
    <div class="card border-warning mb-4">
        <div class="card-header bg-warning text-dark">
            <h3 class="mb-0"><i class="fas fa-question-circle me-2"></i>❓ よくある質問（FAQ） - 2025年版完全版</h3>
        </div>
        <div class="card-body">
            <div class="accordion" id="faqAccordion">
                <!-- 基本的な使い方 -->
                <div class="accordion-item">
                    <h2 class="accordion-header">
                        <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#faq_basic">
                            <i class="fas fa-play-circle me-2"></i>基本的な使い方
                        </button>
                    </h2>
                    <div id="faq_basic" class="accordion-collapse collapse show" data-bs-parent="#faqAccordion">
                        <div class="accordion-body">
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="faq-item">
                                        <h6><strong>Q: どの部門を選べばよいですか？</strong></h6>
                                        <p><strong>A:</strong> あなたが受験予定のRCCM試験部門を選択してください。道路、河川砂防、建設環境、都市計画、造園、鉄道、上下水道、電力など12部門から選択可能です。</p>
                                    </div>
                                    
                                    <div class="faq-item">
                                        <h6><strong>Q: 基礎科目と専門科目の違いは？</strong></h6>
                                        <p><strong>A:</strong> 4-1基礎科目は全部門共通で202問、4-2専門科目は部門別で合計3,883問あります。まず基礎科目で80%以上の正答率を目指し、その後専門科目に進むことをお勧めします。</p>
                                    </div>
                                    
                                    <div class="faq-item">
                                        <h6><strong>Q: 復習リストが空っぽです</strong></h6>
                                        <p><strong>A:</strong> 問題を解いて間違えると自動でSRS復習リストに追加されます。まずは基礎科目から始めて、間違いを恐れずに問題を解いてみてください。</p>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="faq-item">
                                        <h6><strong>Q: どのくらいのペースで学習すべきですか？</strong></h6>
                                        <p><strong>A:</strong> 毎日続けることが最重要です。1日30分でも効果大です。AIがあなたの学習ペースを分析し、最適なスケジュールを提案します。</p>
                                    </div>
                                    
                                    <div class="faq-item">
                                        <h6><strong>Q: 他のアプリとのAI機能の違いは？</strong></h6>
                                        <p><strong>A:</strong> <span class="badge bg-danger me-1">業界初</span>従来の資格試験アプリにはPython AI機能は搭載されていません。本アプリは機械学習による弱点自動検出、学習効率最適化、記憶定着予測など、完全なAI学習支援システムを提供します。</p>
                                    </div>
                                    
                                    <div class="faq-item">
                                        <h6><strong>Q: グループ学習はどう使いますか？</strong></h6>
                                        <p><strong>A:</strong> 同じ部門の仲間とグループを作って、一緒に問題を解いたり、質問し合ったりできます。ランキング機能で競争意識も刺激されます。</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- 技術的な問題 -->
                <div class="accordion-item">
                    <h2 class="accordion-header">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq_technical">
                            <i class="fas fa-cog me-2"></i>技術的な問題
                        </button>
                    </h2>
                    <div id="faq_technical" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                        <div class="accordion-body">
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="faq-item">
                                        <h6><strong>Q: スマホで文字が見にくいです</strong></h6>
                                        <p><strong>A:</strong> ピンチアウト（指で画面を広げる）で拡大するか、ブラウザの設定で文字サイズを変更してください。PWAアプリとしてインストールするとさらに使いやすくなります。</p>
                                    </div>
                                    
                                    <div class="faq-item">
                                        <h6><strong>Q: オフラインでも使えますか？</strong></h6>
                                        <p><strong>A:</strong> PWA機能でオフライン学習に対応しています。一度ダウンロードした問題はオフラインでも解けます。シンクはオンライン時に自動実行されます。</p>
                                    </div>
                                    
                                    <div class="faq-item">
                                        <h6><strong>Q: データが消えてしまいました</strong></h6>
                                        <p><strong>A:</strong> ブラウザのキャッシュクリアやCookie削除でデータが消えることがあります。企業版ではクラウド同期機能でデータを保護します。</p>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="faq-item">
                                        <h6><strong>Q: 解答時間は記録されますか？</strong></h6>
                                        <p><strong>A:</strong> はい、各問題の解答時間が精密に記録され、AI分析で学習効率の改善に活用されます。時間帯別の集中力や疲労度も分析します。</p>
                                    </div>
                                    
                                    <div class="faq-item">
                                        <h6><strong>Q: 複数のデバイスで同期できますか？</strong></h6>
                                        <p><strong>A:</strong> ユーザーアカウントを作成すると、PC・スマホ・タブレット間で学習データを同期できます。リアルタイムで進捗が反映されます。</p>
                                    </div>
                                    
                                    <div class="faq-item">
                                        <h6><strong>Q: 企業版と一般版の違いは？</strong></h6>
                                        <p><strong>A:</strong> 企業版ではAPI連携、管理者ダッシュボード、組織管理、詳細レポート、SSO連携などの企業向け機能が使えます。</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- 学習効果に関する質問 -->
                <div class="accordion-item">
                    <h2 class="accordion-header">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#faq_learning">
                            <i class="fas fa-brain me-2"></i>学習効果に関する質問
                        </button>
                    </h2>
                    <div id="faq_learning" class="accordion-collapse collapse" data-bs-parent="#faqAccordion">
                        <div class="accordion-body">
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="faq-item">
                                        <h6><strong>Q: SRS復習システムの効果は？</strong></h6>
                                        <p><strong>A:</strong> エビングハウス忘却曲線に基づいた科学的システムで、一般的な学習法と比較して記憶定着率が3-5倍向上します。</p>
                                    </div>
                                    
                                    <div class="faq-item">
                                        <h6><strong>Q: どのくらいで合格レベルに達しますか？</strong></h6>
                                        <p><strong>A:</strong> 本アプリで80%以上の正答率を安定して取れるようになれば、RCCM試験の合格ライン（60%）を十分クリアできます。</p>
                                    </div>
                                    
                                    <div class="faq-item">
                                        <h6><strong>Q: Python AIの学習推薦は信用できますか？</strong></h6>
                                        <p><strong>A:</strong> <span class="badge bg-success me-1">高精度</span>Python機械学習アルゴリズムが大量の学習データを統計解析し、個人の学習パターンに完全最適化された推薦を提供します。継続利用でAI精度がさらに向上し、他のアプリでは実現できない学習効率を達成できます。</p>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="faq-item">
                                        <h6><strong>Q: 他の受験生と比較できますか？</strong></h6>
                                        <p><strong>A:</strong> ソーシャル機能で同じ部門の受験生とランキングや進捗を比較できます。匿名データでプライバシーも保護されます。</p>
                                    </div>
                                    
                                    <div class="faq-item">
                                        <h6><strong>Q: ゲーミフィケーションの効果は？</strong></h6>
                                        <p><strong>A:</strong> バッジ収集、ストリーク維持、ランキング競争などで学習モチベーションを維持し、継続率が大幅に向上します。</p>
                                    </div>
                                    
                                    <div class="faq-item">
                                        <h6><strong>Q: 学習データのエクスポートはできますか？</strong></h6>
                                        <p><strong>A:</strong> JSON、CSV、PDF形式で学習データをエクスポートできます。企業版では組織全体のレポートも生成可能です。</p>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 充実したトラブルシューティング -->
    <div class="card border-danger mb-4">
        <div class="card-header bg-danger text-white">
            <h3 class="mb-0"><i class="fas fa-tools me-2"></i>🔧 トラブルシューティング - 2025年版完全ガイド</h3>
        </div>
        <div class="card-body">
            <div class="alert alert-warning">
                <h5 class="alert-heading"><i class="fas fa-first-aid me-2"></i>緒急対応</h5>
                <div class="row">
                    <div class="col-md-4">
                        <strong>🆘 緊急リセット</strong><br>
                        <code>Ctrl+F5</code> でハードリロード
                    </div>
                    <div class="col-md-4">
                        <strong>📱 モバイルリセット</strong><br>
                        アプリを閉じて再起動
                    </div>
                    <div class="col-md-4">
                        <strong>🔄 セッションリセット</strong><br>
                        ホームボタンでクリア
                    </div>
                </div>
            </div>
            
            <div class="accordion" id="troubleAccordion">
                <!-- 一般的な問題 -->
                <div class="accordion-item">
                    <h2 class="accordion-header">
                        <button class="accordion-button" type="button" data-bs-toggle="collapse" data-bs-target="#trouble_common">
                            <i class="fas fa-exclamation-triangle me-2"></i>一般的な問題
                        </button>
                    </h2>
                    <div id="trouble_common" class="accordion-collapse collapse show" data-bs-parent="#troubleAccordion">
                        <div class="accordion-body">
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="trouble-item">
                                        <strong>「選択肢がクリックできない」</strong>
                                        <ol>
                                            <li><kbd>F5</kbd> でページ再読み込み</li>
                                            <li><kbd>Ctrl+Shift+Delete</kbd> でキャッシュクリア</li>
                                            <li>別のブラウザ（Chrome/Firefox/Edge）で試す</li>
                                            <li>シークレットモードでアクセス</li>
                                        </ol>
                                    </div>
                                    
                                    <div class="trouble-item">
                                        <strong>「エラーが発生しました」画面</strong>
                                        <ol>
                                            <li>ブラウザの戻るボタンをクリック</li>
                                            <li><a href="/" class="btn btn-sm btn-primary">Home</a> から再開</li>
                                            <li>エラーコードをメモしてサポートに連絡</li>
                                        </ol>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="trouble-item">
                                        <strong>「SRS復習リストが空」</strong>
                                        <ol>
                                            <li>まず基礎科目で問題を間違える</li>
                                            <li>自動で復習リストに追加されるまで待つ</li>
                                            <li><a href="/srs_stats" class="btn btn-sm btn-info">SRS統計</a>で状況確認</li>
                                        </ol>
                                    </div>
                                    
                                    <div class="trouble-item">
                                        <strong>「セッション情報が異常」</strong>
                                        <ol>
                                            <li>ホームボタンで自動クリア</li>
                                            <li>部門切り替え時はセッション自動リセット</li>
                                            <li>異なるタブでの同時アクセスを避ける</li>
                                        </ol>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- AI・ソーシャル機能の問題 -->
                <div class="accordion-item">
                    <h2 class="accordion-header">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#trouble_advanced">
                            <i class="fas fa-robot me-2"></i>AI・ソーシャル機能の問題
                        </button>
                    </h2>
                    <div id="trouble_advanced" class="accordion-collapse collapse" data-bs-parent="#troubleAccordion">
                        <div class="accordion-body">
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="trouble-item">
                                        <strong>「AI分析が動作しない」</strong>
                                        <ol>
                                            <li>十分な学習データが累積されるまで待つ</li>
                                            <li>統計ページで学習状況を確認</li>
                                            <li>ジャバスクリプト有効化を確認</li>
                                        </ol>
                                    </div>
                                    
                                    <div class="trouble-item">
                                        <strong>「グループに参加できない」</strong>
                                        <ol>
                                            <li>ユーザーアカウント作成が必要</li>
                                            <li><a href="/social_learning" class="btn btn-sm btn-success">Social</a>でグループ検索</li>
                                            <li>部門が一致するグループを選択</li>
                                        </ol>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="trouble-item">
                                        <strong>「ランキングが表示されない」</strong>
                                        <ol>
                                            <li>最低10問以上の学習データが必要</li>
                                            <li><a href="/leaderboard" class="btn btn-sm btn-warning">Ranking</a>で更新状況確認</li>
                                            <li>同じ部門の参加者を待つ</li>
                                        </ol>
                                    </div>
                                    
                                    <div class="trouble-item">
                                        <strong>「データ同期が失敗」</strong>
                                        <ol>
                                            <li>インターネット接続を確認</li>
                                            <li>手動で「同期」ボタンをクリック</li>
                                            <li>ブラウザのCookie設定を確認</li>
                                        </ol>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                
                <!-- 企業版・モバイル問題 -->
                <div class="accordion-item">
                    <h2 class="accordion-header">
                        <button class="accordion-button collapsed" type="button" data-bs-toggle="collapse" data-bs-target="#trouble_enterprise">
                            <i class="fas fa-building me-2"></i>企業版・モバイル問題
                        </button>
                    </h2>
                    <div id="trouble_enterprise" class="accordion-collapse collapse" data-bs-parent="#troubleAccordion">
                        <div class="accordion-body">
                            <div class="row">
                                <div class="col-md-6">
                                    <div class="trouble-item">
                                        <strong>「API連携が失敗」</strong>
                                        <ol>
                                            <li>APIキーの有効性を確認</li>
                                            <li><a href="/api_integration" class="btn btn-sm btn-dark">API管理</a>でステータス確認</li>
                                            <li>レート制限（1000req/h）を確認</li>
                                            <li>ネットワークファイアウォール設定を確認</li>
                                        </ol>
                                    </div>
                                    
                                    <div class="trouble-item">
                                        <strong>「管理者ダッシュボードアクセス不可」</strong>
                                        <ol>
                                            <li>管理者権限を確認</li>
                                            <li><a href="/admin" class="btn btn-sm btn-secondary">Admin</a>でログイン状況確認</li>
                                            <li>組織内のSSO設定を確認</li>
                                        </ol>
                                    </div>
                                </div>
                                <div class="col-md-6">
                                    <div class="trouble-item">
                                        <strong>「スマホでPWAインストール不可」</strong>
                                        <ol>
                                            <li>HTTPS接続でアクセスしているか確認</li>
                                            <li>ブラウザメニューから「ホーム画面に追加」</li>
                                            <li>Service Workerの状況を確認</li>
                                        </ol>
                                    </div>
                                    
                                    <div class="trouble-item">
                                        <strong>「オフラインモードが動作しない」</strong>
                                        <ol>
                                            <li>事前にオンラインでデータダウンロード</li>
                                            <li>ブラウザストレージ容量を確認</li>
                                            <li>オンライン復帰時に自動同期を待つ</li>
                                        </ol>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="alert alert-info mt-4">
                <h5><i class="fas fa-headset me-2"></i>それでも解決しない場合</h5>
                <div class="row">
                    <div class="col-md-4">
                        <strong>📧 サポート連絡</strong><br>
                        エラーメッセージのスクリーンショットを添付
                    </div>
                    <div class="col-md-4">
                        <strong>📊 システム状況</strong><br>
                        <a href="/health_check" class="btn btn-sm btn-info">Health Check</a>で状況確認
                    </div>
                    <div class="col-md-4">
                        <strong>🔄 緊急リセット</strong><br>
                        <a href="/force_reset" class="btn btn-sm btn-danger">Force Reset</a>で全データクリア
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- 拡張されたアクションボタン -->
    <div class="text-center mb-5">
        <h4 class="mb-4">🚀 今すぐ始める</h4>
        <div class="row">
            <div class="col-lg-2 col-md-4 col-6 mb-3">
                <a href="/" class="btn btn-primary btn-lg w-100 h-100 d-flex flex-column justify-content-center">
                    <i class="fas fa-home mb-2"></i>
                    <span>ホーム</span>
                </a>
            </div>
            <div class="col-lg-2 col-md-4 col-6 mb-3">
                <a href="/categories" class="btn btn-success btn-lg w-100 h-100 d-flex flex-column justify-content-center">
                    <i class="fas fa-list mb-2"></i>
                    <span>部門選択</span>
                </a>
            </div>
            <div class="col-lg-2 col-md-4 col-6 mb-3">
                <a href="/ai_dashboard" class="btn btn-primary btn-lg w-100 h-100 d-flex flex-column justify-content-center">
                    <i class="fas fa-robot mb-2"></i>
                    <span>AI分析</span>
                </a>
            </div>
            <div class="col-lg-2 col-md-4 col-6 mb-3">
                <a href="/review" class="btn btn-warning btn-lg w-100 h-100 d-flex flex-column justify-content-center">
                    <i class="fas fa-brain mb-2"></i>
                    <span>SRS復習</span>
                </a>
            </div>
            <div class="col-lg-2 col-md-4 col-6 mb-3">
                <a href="/social_learning" class="btn btn-purple btn-lg w-100 h-100 d-flex flex-column justify-content-center">
                    <i class="fas fa-users mb-2"></i>
                    <span>グループ学習</span>
                </a>
            </div>
            <div class="col-lg-2 col-md-4 col-6 mb-3">
                <a href="/statistics" class="btn btn-secondary btn-lg w-100 h-100 d-flex flex-column justify-content-center">
                    <i class="fas fa-chart-bar mb-2"></i>
                    <span>学習統計</span>
                </a>
            </div>
        </div>
        
        <!-- 企業版機能アクセス -->
        <div class="mt-4">
            <h5 class="mb-3">🏢 企業版機能</h5>
            <div class="row justify-content-center">
                <div class="col-md-3 mb-2">
                    <a href="/admin" class="btn btn-dark btn-lg w-100">
                        <i class="fas fa-cogs me-2"></i>管理者ダッシュボード
                    </a>
                </div>
                <div class="col-md-3 mb-2">
                    <a href="/api_integration" class="btn btn-outline-dark btn-lg w-100">
                        <i class="fas fa-plug me-2"></i>API管理
                    </a>
                </div>
            </div>
        </div>
    </div>
    
    <!-- AI機能（実装済み・利用可能） -->
    <div class="row mt-5">
        <div class="col-12">
            <div class="alert alert-success">
                <h4><i class="fas fa-check-circle me-2"></i>AI学習機能（実装済み・利用可能）</h4>
                <p>以下のAI機能は完全実装済みです。学習データが蓄積されると、より精密な分析結果を提供します。</p>
                <div class="text-center mt-3">
                    <a href="/ai_dashboard" class="btn btn-primary me-2">
                        <i class="fas fa-robot me-2"></i>AIダッシュボード
                    </a>
                    <a href="/advanced_analytics" class="btn btn-info">
                        <i class="fas fa-chart-line me-2"></i>高度分析
                    </a>
                </div>
            </div>
        </div>
    </div>
    
    <!-- AIダッシュボードプレビュー -->
    <div class="row mb-4">
        <div class="col-12">
            <div class="card border-primary" style="opacity: 0.7;">
                <div class="card-header bg-primary text-white">
                    <h4><i class="fas fa-robot"></i> AIダッシュボードプレビュー</h4>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-4">
                            <div class="alert alert-info text-center">
                                <h5>学習スタイル</h5>
                                <h3><i class="fas fa-user-graduate"></i> 分析型</h3>
                                <small>あなたに最適な学習方法</small>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="alert alert-success text-center">
                                <h5>パフォーマンス予測</h5>
                                <h3><i class="fas fa-chart-line"></i> 78%</h3>
                                <small>現在の理解度</small>
                            </div>
                        </div>
                        <div class="col-md-4">
                            <div class="alert alert-warning text-center">
                                <h5>推奨学習時間</h5>
                                <h3><i class="fas fa-clock"></i> 30分/日</h3>
                                <small>効率的な学習時間</small>
                            </div>
                        </div>
                    </div>
                    
                    <!-- 弱点パターン分析 -->
                    <div class="row mt-3">
                        <div class="col-md-6">
                            <h6><i class="fas fa-brain text-danger"></i> 弱点パターン分析</h6>
                            <ul class="list-group">
                                <li class="list-group-item d-flex justify-content-between">
                                    <span>🔴 コンクリート工学</span>
                                    <span class="badge bg-danger">要改善 45%</span>
                                </li>
                                <li class="list-group-item d-flex justify-content-between">
                                    <span>🟡 土質工学</span>
                                    <span class="badge bg-warning">注意 62%</span>
                                </li>
                                <li class="list-group-item d-flex justify-content-between">
                                    <span>🟢 施工管理</span>
                                    <span class="badge bg-success">良好 85%</span>
                                </li>
                            </ul>
                        </div>
                        <div class="col-md-6">
                            <h6><i class="fas fa-lightbulb text-primary"></i> AI学習推奨</h6>
                            <div class="card bg-light">
                                <div class="card-body">
                                    <ul class="mb-0">
                                        <li><strong>コンクリート工学の集中学習</strong> - 週3回、20分ずつ</li>
                                        <li><strong>基礎から応用への段階学習</strong> - 理論→実務の順番</li>
                                        <li><strong>復習スケジュール</strong> - 3日後、1週間後、1ヶ月後</li>
                                        <li><strong>関連問題の横断学習</strong> - 構造力学との連携</li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <!-- 高度分析プレビュー -->
    <div class="row mb-4">
        <div class="col-12">
            <div class="card border-info" style="opacity: 0.7;">
                <div class="card-header bg-info text-white">
                    <h4><i class="fas fa-chart-line"></i> 高度分析プレビュー</h4>
                </div>
                <div class="card-body">
                    <div class="row">
                        <div class="col-md-3 text-center">
                            <h5>学習効率スコア</h5>
                            <div class="display-4 text-primary">73%</div>
                            <small class="text-muted">平均: 65%</small>
                        </div>
                        <div class="col-md-3 text-center">
                            <h5>認知負荷</h5>
                            <div class="display-4 text-warning">中</div>
                            <small class="text-muted">最適範囲内</small>
                        </div>
                        <div class="col-md-3 text-center">
                            <h5>成功確率</h5>
                            <div class="display-4 text-success">82%</div>
                            <small class="text-muted">試験合格予測</small>
                        </div>
                        <div class="col-md-3 text-center">
                            <h5>学習曲線</h5>
                            <div class="display-4 text-info">成長期</div>
                            <small class="text-muted">現在のフェーズ</small>
                        </div>
                    </div>
                    
                    <!-- 学習推奨エンジン -->
                    <div class="row mt-3">
                        <div class="col-md-4">
                            <h6>今週の重点項目</h6>
                            <ul class="list-group">
                                <li class="list-group-item">
                                    <i class="fas fa-arrow-right text-danger"></i> コンクリート工学の強化
                                </li>
                                <li class="list-group-item">
                                    <i class="fas fa-arrow-right text-warning"></i> 構造力学の復習
                                </li>
                                <li class="list-group-item">
                                    <i class="fas fa-arrow-right text-info"></i> 施工管理の維持
                                </li>
                            </ul>
                        </div>
                        <div class="col-md-4">
                            <h6>推奨学習順序</h6>
                            <ol class="list-group list-group-numbered">
                                <li class="list-group-item">基礎理論の確認</li>
                                <li class="list-group-item">応用問題への挑戦</li>
                                <li class="list-group-item">総合問題での定着確認</li>
                            </ol>
                        </div>
                        <div class="col-md-4">
                            <h6>学習スケジュール</h6>
                            <div class="card bg-light">
                                <div class="card-body">
                                    <p><strong>総学習時間:</strong> 180分/週</p>
                                    <p><strong>優先分野:</strong> 2分野</p>
                                    <p><strong>復習問題:</strong> 25問</p>
                                    <p><strong>新規問題:</strong> 15問</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    
    <div class="alert alert-success mt-4">
        <h6><i class="fas fa-check-circle me-2"></i>AI機能について</h6>
        <p class="mb-0">上記のAI機能は完全実装済みで正常に動作します。基本機能（問題解答・復習・統計）と併用することで、より効果的な学習が可能です。AI分析は学習履歴の蓄積に応じて精度が向上します。</p>
    </div>

</div>

<style>
.step-circle {
    width: 60px;
    height: 60px;
    border-radius: 50%;
    display: flex;
    align-items: center;
    justify-content: center;
    margin: 0 auto 15px;
    font-size: 1.5rem;
    font-weight: bold;
    border: 3px solid;
}

.stats-box .stat-item {
    margin: 10px 0;
}

.timeline-item {
    padding: 10px 0;
    border-left: 3px solid #dee2e6;
    padding-left: 20px;
    margin-bottom: 15px;
}

.trouble-item {
    background: #f8f9fa;
    padding: 15px;
    border-radius: 8px;
    margin-bottom: 15px;
    border-left: 4px solid #dc3545;
}

.trouble-item strong {
    color: #dc3545;
}

.accordion-button {
    font-weight: 600;
}

.feature-badge {
    text-align: center;
    padding: 10px;
}

.feature-badge i {
    font-size: 1.5rem;
    display: block;
    margin-bottom: 5px;
}

.faq-item {
    background: #f8f9fa;
    padding: 15px;
    border-radius: 8px;
    margin-bottom: 15px;
    border-left: 4px solid #007bff;
}

.btn-purple {
    background-color: #6f42c1;
    border-color: #6f42c1;
    color: white;
}

.btn-purple:hover {
    background-color: #5a32a3;
    border-color: #5a32a3;
    color: white;
}

/* レスポンシブ対応 */
@media (max-width: 768px) {
    .step-circle {
        width: 50px;
        height: 50px;
        font-size: 1.2rem;
    }
    
    .trouble-item {
        padding: 10px;
    }
    
    .btn-lg {
        padding: 0.75rem 1rem;
        font-size: 1rem;
    }
}
</style>

<script>
// 初回訪問者向けのガイダンス
document.addEventListener('DOMContentLoaded', function() {
    // ページ読み込み時の初期化
    console.log('📖 ヘルプページ読み込み完了');
    
    // 初回訪問検知
    if (!localStorage.getItem('rccm_help_visited')) {
        localStorage.setItem('rccm_help_visited', 'true');
        
        // 初回訪問者向けのウェルカムメッセージ（必要に応じて）
        setTimeout(() => {
            if (confirm('初回訪問ありがとうございます！クイックスタートで基本的な使い方を確認しますか？')) {
                document.getElementById('practice').scrollIntoView({ behavior: 'smooth' });
            }
        }, 1000);
    }
});
</script>
{% endblock %}